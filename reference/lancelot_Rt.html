<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Compute "Rt" — lancelot_Rt • sircovid</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Compute " rt lancelot_rt><meta property="og:description" content='Compute "Rt" for a single simulated trajectory and parameter set.'><meta property="og:image" content="/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">sircovid</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.15.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/mrc-ide/sircovid/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Compute "Rt"</h1>
    <small class="dont-index">Source: <a href="https://github.com/mrc-ide/sircovid/blob/HEAD/R/lancelot_rt.R" class="external-link"><code>R/lancelot_rt.R</code></a></small>
    <div class="hidden name"><code>lancelot_Rt.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Compute "Rt" for a single simulated trajectory and parameter set.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">lancelot_Rt</span><span class="op">(</span></span>
<span>  <span class="va">time</span>,</span>
<span>  <span class="va">S</span>,</span>
<span>  <span class="va">p</span>,</span>
<span>  prob_strain <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  type <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  interpolate_every <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  interpolate_critical_dates <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  interpolate_min <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  eigen_method <span class="op">=</span> <span class="st">"power_iteration"</span>,</span>
<span>  R <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  weight_Rt <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  keep_strains_Rt <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>time</dt>
<dd><p>A vector of time steps that the model was run over</p></dd>


<dt>S</dt>
<dd><p>A (n groups x n vaccine classes) x steps matrix of "S"
compartment counts</p></dd>


<dt>p</dt>
<dd><p>A <code><a href="lancelot_parameters.html">lancelot_parameters()</a></code> object</p></dd>


<dt>prob_strain</dt>
<dd><p>A (n groups x n strains) x n time steps matrix of
"prob_strain" outputs from the model. For a 2 strain model for example,
<code>prob_strain[1, j]</code> and <code>prob_strain[n_groups + 1, j]</code> should give, for
the j^th time step, the probabilities that new infections
in group 1 are of strains 1 and 2 respectively.
The default is <code>NULL</code>, but it must
be specified if there is more than one strain</p></dd>


<dt>type</dt>
<dd><p>A character vector of possible Rt types to
compute. Can be any or all of <code>eff_Rt_all</code>, <code>eff_Rt_general</code>,
<code>Rt_all</code> and <code>Rt_general</code></p></dd>


<dt>interpolate_every</dt>
<dd><p>Spacing (in days) to use between interpolated
points</p></dd>


<dt>interpolate_critical_dates</dt>
<dd><p>Optional vector of critical sircovid
dates to use when interpolating. Interpolation will be done in
blocks between the first time step of these dates, with each block
starting on the first time step of the date given.
So if you give a <code>interpolate_critical_dates</code> of <code>c(20, 50)</code> then blocks <em>start</em> on first time step of days 20 and 50,
i.e.: <code>[1, 20)</code>, <code>[20, 50)</code>, <code>[50, end]</code>.</p></dd>


<dt>interpolate_min</dt>
<dd><p>The minimum number of steps to include
within a block. If there are fewer points than this then all
points are used (i.e., no interpolation is done) or
<code>interpolate_every</code> is reduced until at least this many points
were used. This can be used to specify a lower bound on the
error of small regions. If Rt is small it won't matter that
much. You do need to specify something though or interpolation
will not happen, and do not use less than 3 as we use spline
interpolation and that will not work with fewer than 3 points.</p></dd>


<dt>eigen_method</dt>
<dd><p>The eigenvalue method to use (passed to
<a href="https://rdrr.io/pkg/eigen1/man/eigen1.html" class="external-link">eigen1::eigen1</a> as <code>method</code>)</p></dd>


<dt>R</dt>
<dd><p>A (n groups x n strains x n vaccine classes) x time steps matrix of
"R" compartment counts, required for multi-strain models.</p></dd>


<dt>weight_Rt</dt>
<dd><p>If <code>TRUE</code> then computes the weighted average
of the Rt for all strains, otherwise all calculations are returned with
an additional dimension to index each strain.</p></dd>


<dt>keep_strains_Rt</dt>
<dd><p>Additional argument for when <code>weight_Rt</code> is <code>TRUE</code>
(has no impact otherwise). If <code>TRUE</code>, then the Rt for each strain is
returned along with the weighted average, otherwise just the weighted
average is returned. When <code>TRUE</code>, the dimension indexing these lists
strains first, and then the weighted average.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A list with elements <code>time</code>, <code>beta</code>, and any of the <code>type</code></p>


<p>values specified above.</p>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Marc Baguelin, Edward Knock, Lilith Whittles, Rich FitzJohn, John Lees, Anne Cori, Pablo Perez-Guzman, Raphael Sonabend, Yasin Elmaci.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

      </footer></div>

  


  

  </body></html>

